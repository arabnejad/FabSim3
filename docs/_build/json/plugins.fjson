{
    "body": "<div class=\"section\" id=\"installing-plugins\">\n<span id=\"plugins\"></span><h1>Installing plugins<a class=\"headerlink\" href=\"#installing-plugins\" title=\"Permalink to this headline\">\u00b6</a></h1>\n<p>By default, FabSim3 comes with the <a class=\"reference external\" href=\"https://github.com/djgroen/FabDummy\">FabDummy</a> plugin installed. Other plugins can be installed, and are listed in  <code class=\"docutils literal notranslate\"><span class=\"pre\">deploy/plugins.yml</span></code>.</p>\n<blockquote>\n<div><ul>\n<li><p class=\"first\">To install a specific plugin, simply type:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">fabsim</span> <span class=\"n\">localhost</span> <span class=\"n\">install_plugin</span><span class=\"p\">:</span><span class=\"o\">&lt;</span><span class=\"n\">plug_name</span><span class=\"o\">&gt;</span>\n</pre></div>\n</div>\n</li>\n</ul>\n</div></blockquote>\n</div>\n<div class=\"section\" id=\"creating-a-new-plugin\">\n<h1>Creating a new plugin<a class=\"headerlink\" href=\"#creating-a-new-plugin\" title=\"Permalink to this headline\">\u00b6</a></h1>\n<p>To create a new plugin for FabSim3:</p>\n<ol class=\"arabic\">\n<li><p class=\"first\">Fork the <a class=\"reference external\" href=\"https://www.github.com/djgroen/FabDummy\">FabDummy</a> repository.</p>\n</li>\n<li><p class=\"first\">Rename the repository, and modify it to suit your own needs as you see fit.</p>\n</li>\n<li><p class=\"first\">Rename <strong>FabDummy.py</strong> to the <strong>&lt;name of your plugin&gt;.py</strong>.</p>\n</li>\n<li><p class=\"first\">In your new plugin repository, at the top of the <strong>&lt;name of your plugin&gt;.py</strong>, change <code class=\"docutils literal notranslate\"><span class=\"pre\">add_local_paths(&quot;FabDummy&quot;)</span></code> to <code class=\"docutils literal notranslate\"><span class=\"pre\">add_local_paths(&lt;name</span> <span class=\"pre\">of</span> <span class=\"pre\">your</span> <span class=\"pre\">plugin&gt;)</span></code>.</p>\n</li>\n<li><p class=\"first\">In the <strong>main</strong> <a class=\"reference external\" href=\"https://github.com/djgroen/FabSim3\">FabSim3</a> repository, add an entry for your new plugin in <code class=\"docutils literal notranslate\"><span class=\"pre\">deploy/plugins.yml</span></code>.</p>\n</li>\n<li><p class=\"first\">Set up your plugin using</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">fab</span> <span class=\"n\">localhost</span> <span class=\"n\">install_plugin</span><span class=\"p\">:</span><span class=\"o\">&lt;</span><span class=\"n\">name</span> <span class=\"n\">of</span> <span class=\"n\">your</span> <span class=\"n\">plugin</span><span class=\"o\">&gt;</span>\n</pre></div>\n</div>\n</li>\n<li><p class=\"first\">You\u2019re good to go, although you\u2019ll inevitably will have to debug some of your modifications made in the second step of course.</p>\n</li>\n</ol>\n<div class=\"section\" id=\"examples\">\n<h2>Examples<a class=\"headerlink\" href=\"#examples\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<blockquote>\n<div>For examples, see the plugins available in <code class=\"docutils literal notranslate\"><span class=\"pre\">deploy/plugins.yml</span></code>. <a class=\"reference external\" href=\"https://github.com/djgroen/FabDummy\">FabDummy</a> and <a class=\"reference external\" href=\"https://github.com/UCL-CCS/FabMD\">FabMD</a> are particularly good examples to investigate.</div></blockquote>\n</div>\n</div>\n<div class=\"section\" id=\"fabdummy-testing-on-the-local-host\">\n<h1>FabDummy testing on the local host<a class=\"headerlink\" href=\"#fabdummy-testing-on-the-local-host\" title=\"Permalink to this headline\">\u00b6</a></h1>\n<div class=\"section\" id=\"plugin-installation\">\n<h2>Plugin Installation<a class=\"headerlink\" href=\"#plugin-installation\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<blockquote>\n<div><p>Open a terminal, and simply type:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">fabsim</span> <span class=\"n\">localhost</span> <span class=\"n\">install_plugin</span><span class=\"p\">:</span><span class=\"n\">FabDummy</span>\n</pre></div>\n</div>\n<div class=\"admonition note\">\n<p class=\"first admonition-title\">Note</p>\n<p class=\"last\"><strong>FabDummy</strong> plugin will be downloaded under <code class=\"docutils literal notranslate\"><span class=\"pre\">&lt;fabsim</span> <span class=\"pre\">home</span> <span class=\"pre\">folder&gt;/plugins/FabDummy</span></code></p>\n</div>\n</div></blockquote>\n</div>\n<div class=\"section\" id=\"testing\">\n<h2>Testing<a class=\"headerlink\" href=\"#testing\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<blockquote>\n<div><ol class=\"arabic\">\n<li><p class=\"first\">To run a dummy job, type:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">fabsim</span> <span class=\"n\">localhost</span> <span class=\"n\">dummy</span><span class=\"p\">:</span><span class=\"n\">dummy_test</span>\n</pre></div>\n</div>\n</li>\n<li><p class=\"first\">To run an ensemble of dummy jobs, type:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">fabsim</span> <span class=\"n\">localhost</span> <span class=\"n\">dummy_ensemble</span><span class=\"p\">:</span><span class=\"n\">dummy_test</span>\n</pre></div>\n</div>\n</li>\n<li><p class=\"first\">for both cases, i.e., a single dummy job or an ensemble of dummy jobs, you can fetch the results by using:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">fabsim</span> <span class=\"n\">localhost</span> <span class=\"n\">fetch_results</span>\n</pre></div>\n</div>\n</li>\n</ol>\n<p>For more advanced testing features, please refer to the FabDummy tutorial at <a class=\"reference external\" href=\"https://github.com/djgroen/FabDummy/blob/master/README.md\">https://github.com/djgroen/FabDummy/blob/master/README.md</a>.</p>\n</div></blockquote>\n</div>\n</div>\n<div class=\"section\" id=\"lammps-testing-on-the-local-host\">\n<h1>LAMMPS testing on the local host<a class=\"headerlink\" href=\"#lammps-testing-on-the-local-host\" title=\"Permalink to this headline\">\u00b6</a></h1>\n<div class=\"section\" id=\"dependencies-and-pre-configurations\">\n<h2>Dependencies and Pre-Configurations<a class=\"headerlink\" href=\"#dependencies-and-pre-configurations\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<blockquote>\n<div><ol class=\"arabic\">\n<li><dl class=\"first docutils\">\n<dt>Install LAMMPS (see <a class=\"reference external\" href=\"http://lammps.sandia.gov\">http://lammps.sandia.gov</a>). We suggest to install it from source files.</dt>\n<dd><ul class=\"first last\">\n<li><p class=\"first\">Download the latest stable version from <a class=\"reference external\" href=\"https://lammps.sandia.gov/tars/lammps-stable.tar.gz\">https://lammps.sandia.gov/tars/lammps-stable.tar.gz</a></p>\n</li>\n<li><p class=\"first\">Extract tar file by <code class=\"docutils literal notranslate\"><span class=\"pre\">tar</span> <span class=\"pre\">xvf</span> <span class=\"pre\">lammps-stable.tar.gz</span></code>. This will create a folder named: <em>lammps-3Mar20</em> (The date may change depending of the updates in the website).</p>\n</li>\n<li><p class=\"first\">Before keep going it is necessary to solve some dependencies: build-essential (to compile in C), MPIch (to work in parallel) , FFTW ( to compute long-range interactions), libxaw7 (to compute the movies). In one line code you choose</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">sudo</span> <span class=\"n\">apt</span><span class=\"o\">-</span><span class=\"n\">get</span> <span class=\"n\">install</span> <span class=\"n\">build</span><span class=\"o\">-</span><span class=\"n\">essential</span> <span class=\"n\">libxaw7</span><span class=\"o\">-</span><span class=\"n\">dev</span>\n</pre></div>\n</div>\n</li>\n<li><p class=\"first\">Then, go to the extract folder, and execute following commands</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span>~$ cd lammps-3Mar20\n~/lammps-3Mar20$ cd src/STUBS\n~/lammps-3Mar20/src/STUBS$ make clean\n~/lammps-3Mar20/src/STUBS$ make\n~/lammps-3Mar20/src/STUBS$ cd ..\n~/lammps-3Mar20/src$ make clean-all\n~/lammps-3Mar20/src$ make serial\n</pre></div>\n</div>\n</li>\n<li><p class=\"first\">If the installation part worked correctly, you should be able to find <code class=\"docutils literal notranslate\"><span class=\"pre\">lmp_serial</span></code> executable file inside <code class=\"docutils literal notranslate\"><span class=\"pre\">lammps-3Mar20/src</span></code> folder</p>\n</li>\n</ul>\n</dd>\n</dl>\n</li>\n<li><p class=\"first\">Modify <code class=\"docutils literal notranslate\"><span class=\"pre\">machines_user.yml</span></code> to make the <strong>lammps_exec</strong> variable point to the location of the LAMMPS executable. e.g.</p>\n</li>\n</ol>\n<div class=\"highlight-yaml notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"nt\">localhost</span><span class=\"p\">:</span>\n        <span class=\"nt\">lammps_exec</span><span class=\"p\">:</span> <span class=\"s\">&quot;/home/james/bin/lmp_serial&quot;</span>\n</pre></div>\n</div>\n<ol class=\"arabic simple\" start=\"3\">\n<li>FabSim3 contains sample LAMMPS input files, so there\u2019s no need to download that.</li>\n</ol>\n</div></blockquote>\n</div>\n<div class=\"section\" id=\"id1\">\n<h2>Plugin Installation<a class=\"headerlink\" href=\"#id1\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<blockquote>\n<div><p>Before run LAMMPS test data set, you should install FabMD which provides functionality to extend FabSim3\u2019s workflow and remote submission capabilities to LAMMPS specific tasks. Please install it by typing:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">fabsim</span> <span class=\"n\">localhost</span> <span class=\"n\">install_plugin</span><span class=\"p\">:</span><span class=\"n\">FabMD</span>\n</pre></div>\n</div>\n</div></blockquote>\n</div>\n<div class=\"section\" id=\"id2\">\n<h2>Testing<a class=\"headerlink\" href=\"#id2\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<blockquote>\n<div><ol class=\"arabic\">\n<li><p class=\"first\">Run the LAMMPS test data set using:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">fabsim</span> <span class=\"n\">localhost</span> <span class=\"n\">lammps_dummy</span><span class=\"p\">:</span><span class=\"n\">lammps_dummy</span><span class=\"p\">,</span><span class=\"n\">cores</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"n\">wall_time</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">:</span><span class=\"mi\">00</span><span class=\"p\">:</span><span class=\"mi\">0</span>\n</pre></div>\n</div>\n</li>\n<li><p class=\"first\">Run the following command to copy the output of your job in the results directory. By default this will be a subdirectory in <code class=\"docutils literal notranslate\"><span class=\"pre\">&lt;FabSim3</span> <span class=\"pre\">folder&gt;/results</span></code>:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">fabsim</span> <span class=\"n\">localhost</span> <span class=\"n\">fetch_results</span>\n</pre></div>\n</div>\n</li>\n</ol>\n</div></blockquote>\n</div>\n</div>\n",
    "title": "Installing plugins",
    "sourcename": "plugins.rst.txt",
    "current_page_name": "plugins",
    "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">Installing plugins</a></li>\n<li><a class=\"reference internal\" href=\"#creating-a-new-plugin\">Creating a new plugin</a><ul>\n<li><a class=\"reference internal\" href=\"#examples\">Examples</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#fabdummy-testing-on-the-local-host\">FabDummy testing on the local host</a><ul>\n<li><a class=\"reference internal\" href=\"#plugin-installation\">Plugin Installation</a></li>\n<li><a class=\"reference internal\" href=\"#testing\">Testing</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#lammps-testing-on-the-local-host\">LAMMPS testing on the local host</a><ul>\n<li><a class=\"reference internal\" href=\"#dependencies-and-pre-configurations\">Dependencies and Pre-Configurations</a></li>\n<li><a class=\"reference internal\" href=\"#id1\">Plugin Installation</a></li>\n<li><a class=\"reference internal\" href=\"#id2\">Testing</a></li>\n</ul>\n</li>\n</ul>\n",
    "page_source_suffix": ".rst"
}