{
    "body": "<div class=\"section\" id=\"installation-and-testing-old\">\n<span id=\"installationback\"></span><h1>Installation and Testing (old)<a class=\"headerlink\" href=\"#installation-and-testing-old\" title=\"Permalink to this headline\">\u00b6</a></h1>\n<div class=\"section\" id=\"dependencies\">\n<h2>Dependencies<a class=\"headerlink\" href=\"#dependencies\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<ol class=\"arabic\">\n<li><dl class=\"first docutils\">\n<dt>FabSim3 requires the following Python modules</dt>\n<dd><ul class=\"first simple\">\n<li>PyYAML (any version)</li>\n<li>fabric3 (1.1.13.post1 has worked for us)</li>\n<li>numpy</li>\n<li>ruamel.yaml</li>\n</ul>\n<div class=\"last admonition note\">\n<p class=\"first admonition-title\">Note</p>\n<p>You <strong>ONLY</strong> need to install <a class=\"reference external\" href=\"https://pypi.org/project/ruamel.yaml\">ruamel.yaml</a> package, others will be installed by FabSim3.\nTo install that python package, simply type</p>\n<div class=\"last highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">pip3</span> <span class=\"n\">install</span> <span class=\"n\">ruamel</span><span class=\"o\">.</span><span class=\"n\">yaml</span>\n</pre></div>\n</div>\n</div>\n</dd>\n</dl>\n</li>\n<li><p class=\"first\">To perform the <code class=\"docutils literal notranslate\"><span class=\"pre\">Py.test</span></code> tests (not required for using FabSim3, but essential for running the tests), you will need <a class=\"reference external\" href=\"https://docs.pytest.org/en/latest/getting-started.html\">pytest</a> and <a class=\"reference external\" href=\"https://pypi.org/project/pytest-pep8\">pytest-pep8</a>.</p>\n</li>\n<li><p class=\"first\">To install FabSim3 plugins, <strong>git</strong> needs to be installed in your machine.</p>\n</li>\n</ol>\n</div>\n<div class=\"section\" id=\"installing-fabsim3\">\n<h2>Installing FabSim3<a class=\"headerlink\" href=\"#installing-fabsim3\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<ol class=\"arabic\">\n<li><p class=\"first\">Clone the code from the GitHub repository.</p>\n<blockquote>\n<div><div class=\"code console highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">git</span> <span class=\"n\">clone</span> <span class=\"n\">https</span><span class=\"p\">:</span><span class=\"o\">//</span><span class=\"n\">github</span><span class=\"o\">.</span><span class=\"n\">com</span><span class=\"o\">/</span><span class=\"n\">djgroen</span><span class=\"o\">/</span><span class=\"n\">FabSim3</span><span class=\"o\">.</span><span class=\"n\">git</span>\n</pre></div>\n</div>\n</div></blockquote>\n</li>\n<li><p class=\"first\">To install <strong>all</strong> packages automatically and configure yml files, please got to your FabSim3 directory, and type</p>\n<blockquote>\n<div><div class=\"code console highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">python3</span> <span class=\"n\">configure_fabsim</span><span class=\"o\">.</span><span class=\"n\">py</span>\n</pre></div>\n</div>\n<div class=\"admonition note\">\n<p class=\"first admonition-title\">Note</p>\n<p class=\"last\">During this installation process, you will be asked for your local machine <strong>password</strong> for installation the required packages.</p>\n</div>\n</div></blockquote>\n</li>\n</ol>\n<ol class=\"arabic\" start=\"2\">\n<li><p class=\"first\">After installation process, the main FabSim3 directory is <strong>added</strong> in your <code class=\"docutils literal notranslate\"><span class=\"pre\">$PYTHONPATH</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">$PATH</span></code> environment variable. You can find these changes on your bash profile (for linux check <code class=\"docutils literal notranslate\"><span class=\"pre\">~/.bashrc</span></code>, and for MacOS check <code class=\"docutils literal notranslate\"><span class=\"pre\">~/.bash_profile</span></code>)</p>\n</li>\n<li><p class=\"first\">To make the <strong>fabsim</strong> command available in you system, please restart the shell by opening a new terminal or just re-load your bash profile by <code class=\"docutils literal notranslate\"><span class=\"pre\">source</span></code> command.</p>\n<blockquote>\n<div><div class=\"code console highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"p\">[</span><span class=\"n\">Linux</span> <span class=\"n\">machines</span><span class=\"p\">]</span> <span class=\"n\">source</span> <span class=\"o\">~/.</span><span class=\"n\">bashrc</span>\n<span class=\"p\">[</span><span class=\"n\">MacOS</span> <span class=\"n\">machines</span><span class=\"p\">]</span> <span class=\"n\">source</span> <span class=\"o\">~/.</span><span class=\"n\">bash_profile</span>\n</pre></div>\n</div>\n</div></blockquote>\n</li>\n</ol>\n<div class=\"admonition note\">\n<p class=\"first admonition-title\">Note</p>\n<p class=\"last\">You may have to restart the shell for these changes to apply.</p>\n</div>\n<ol class=\"arabic simple\" start=\"3\">\n<li>Copy <code class=\"docutils literal notranslate\"><span class=\"pre\">machines_user_example.yml</span></code> in the <code class=\"docutils literal notranslate\"><span class=\"pre\">deploy/</span></code> subdirectory to``machines_user.yml``. Modify its contents so that it matches with your local settings. For first (local) testing, one must change the settings under the sections <strong>default:</strong> and <strong>localhost:</strong> so as to update the paths of FabSim3 directory and lammps executable respectively.</li>\n</ol>\n<p>For Mac Users, make sure to override the default home directory, by switching the <strong>home_path_template</strong> variable by uncommenting the following line:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">home_path_template</span><span class=\"p\">:</span> <span class=\"s2\">&quot;/Users/$username&quot;</span>\n</pre></div>\n</div>\n<ol class=\"arabic\" start=\"4\">\n<li><p class=\"first\">To enable use of FabSim3 on your local host, type:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">fab</span> <span class=\"n\">localhost</span> <span class=\"n\">setup_fabsim</span>\n</pre></div>\n</div>\n</li>\n</ol>\n<p>As part of this command, you will be logging in to your own machine through SSH once, which can trigger a password prompt. In this case, simply type the password for the machine in which you are running these commands.</p>\n<div class=\"admonition note\">\n<p class=\"first admonition-title\">Note</p>\n<p class=\"last\">For Mac Users, in the <code class=\"docutils literal notranslate\"><span class=\"pre\">deploy/machines.yml</span></code>, change\n::\nruntime_path_template:\u201d$home_path\u201d to runtime_path_template:\u201d~\u201d</p>\n</div>\n<ol class=\"arabic\" start=\"5\">\n<li><p class=\"first\">To enable use of FabSim3 on any other remote machine, make sure that (a) machines.yml contains the specific details of the remote machine, and (b) machines_user.yml contains the specific information for your user account and home directory for the machine. After that, simply type:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">fab</span> <span class=\"o\">&lt;</span><span class=\"n\">machine_name</span><span class=\"o\">&gt;</span> <span class=\"n\">setup_fabsim</span>\n</pre></div>\n</div>\n</li>\n</ol>\n<div class=\"admonition note\">\n<p class=\"first admonition-title\">Note</p>\n<p class=\"last\">FabSim3 commands can now be launched using the <strong>fabsim</strong> command. Note that some older tutorials might use <strong>fab</strong> commands instead of <strong>fabsim</strong>. If <strong>fabsim</strong> command is not found, simply add PATH and PYTHONPATH (step 2) to <code class=\"docutils literal notranslate\"><span class=\"pre\">~/.bash_profile</span></code>, as well as set environment for Python3 in the <code class=\"docutils literal notranslate\"><span class=\"pre\">bin/fabsim</span></code> by replacing <strong>#!/usr/bin/python3</strong> to <strong>#!/usr/bin/env python3</strong>. The two commands can be used interchangably, although the <strong>fabsim</strong> command gives clearer outputs and can be launched from anywhere (<strong>fab</strong> can only be used within the FabSim3 installation directories).</p>\n</div>\n</div>\n<div class=\"section\" id=\"installing-plugins\">\n<h2>Installing plugins<a class=\"headerlink\" href=\"#installing-plugins\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>By default, FabSim3 comes with the FabMD plugin installed. Other plugins can be installed, and are listed in <code class=\"docutils literal notranslate\"><span class=\"pre\">deploy/plugins.yml</span></code>.</p>\n<p>To install a specific plugin, simply type:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">fabsim</span> <span class=\"n\">localhost</span> <span class=\"n\">install_plugin</span><span class=\"p\">:</span><span class=\"o\">&lt;</span><span class=\"n\">plug_name</span><span class=\"o\">&gt;</span>\n</pre></div>\n</div>\n<p>To create your own plugin, please refer to doc/CreatingPlugins.rst</p>\n</div>\n<div class=\"section\" id=\"updating-fabsim3\">\n<h2>Updating FabSim3<a class=\"headerlink\" href=\"#updating-fabsim3\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>If you have already installed FabSim3 and want to update to the latest version, in your local FabSim3 directory simply type:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">git</span> <span class=\"n\">pull</span>\n</pre></div>\n</div>\n<p>Your personal settings like the <code class=\"docutils literal notranslate\"><span class=\"pre\">machines_user.yml</span></code> will be unchanged by this.</p>\n<p>To update plugins you will have to <strong>git pull</strong> from within each plugin directory as and when required.</p>\n</div>\n<div class=\"section\" id=\"testing-fabsim3\">\n<h2>Testing FabSim3<a class=\"headerlink\" href=\"#testing-fabsim3\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>The easiest way to test FabSim3 is to simply go to the base directory of your FabSim3 installation and try the examples below.</p>\n<p>Mac users may get a\n<code class=\"docutils literal notranslate\"><span class=\"pre\">ssh:</span> <span class=\"pre\">connect</span> <span class=\"pre\">to</span> <span class=\"pre\">host</span> <span class=\"pre\">localhost</span> <span class=\"pre\">port</span> <span class=\"pre\">22:</span> <span class=\"pre\">Connection</span> <span class=\"pre\">refused</span></code> error. This means you must enable remote login. This is done in <code class=\"docutils literal notranslate\"><span class=\"pre\">System</span> <span class=\"pre\">Preferences</span> <span class=\"pre\">&gt;</span> <span class=\"pre\">Sharing</span> <span class=\"pre\">&gt;</span> <span class=\"pre\">Remote</span> <span class=\"pre\">Login</span></code>.</p>\n</div>\n<div class=\"section\" id=\"list-available-commands\">\n<h2>List available commands<a class=\"headerlink\" href=\"#list-available-commands\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>Simply type:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">fabsim</span> <span class=\"o\">-</span><span class=\"n\">l</span>\n</pre></div>\n</div>\n</div>\n<div class=\"section\" id=\"fabdummy-testing-on-the-local-host\">\n<h2>FabDummy testing on the local host<a class=\"headerlink\" href=\"#fabdummy-testing-on-the-local-host\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<div class=\"section\" id=\"plugin-installation\">\n<h3>Plugin Installation<a class=\"headerlink\" href=\"#plugin-installation\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>Simply type:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">fabsim</span> <span class=\"n\">localhost</span> <span class=\"n\">install_plugin</span><span class=\"p\">:</span><span class=\"n\">FabDummy</span>\n</pre></div>\n</div>\n<p>anywhere inside your FabSim3 install directory. <strong>FabDummy</strong> plugin will be downloaded under:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"o\">&lt;</span><span class=\"n\">fabsim</span> <span class=\"n\">home</span> <span class=\"n\">folder</span><span class=\"o\">&gt;/</span><span class=\"n\">plugins</span><span class=\"o\">/</span><span class=\"n\">FabDummy</span>\n</pre></div>\n</div>\n</div>\n<div class=\"section\" id=\"testing\">\n<h3>Testing<a class=\"headerlink\" href=\"#testing\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<ol class=\"arabic\">\n<li><p class=\"first\">To run a dummy job, type:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">fabsim</span> <span class=\"n\">localhost</span> <span class=\"n\">dummy</span><span class=\"p\">:</span><span class=\"n\">dummy_test</span>\n</pre></div>\n</div>\n</li>\n<li><p class=\"first\">To run an ensemble of dummy jobs, type:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">fabsim</span> <span class=\"n\">localhost</span> <span class=\"n\">dummy_ensemble</span><span class=\"p\">:</span><span class=\"n\">dummy_test</span>\n</pre></div>\n</div>\n</li>\n<li><p class=\"first\">for both cases, i.e., a single dummy job or an ensemble of dummy jobs, you can fetch the results by using:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">fabsim</span> <span class=\"n\">localhost</span> <span class=\"n\">fetch_results</span>\n</pre></div>\n</div>\n</li>\n</ol>\n<p>For more advanced testing features, please refer to the FabDummy tutorial at <a class=\"reference external\" href=\"https://github.com/djgroen/FabDummy/blob/master/README.md\">https://github.com/djgroen/FabDummy/blob/master/README.md</a>.</p>\n</div>\n<div class=\"section\" id=\"lammps-testing-on-the-local-host\">\n<h3>LAMMPS testing on the local host<a class=\"headerlink\" href=\"#lammps-testing-on-the-local-host\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<ol class=\"arabic\">\n<li><p class=\"first\">Install LAMMPS (see <a class=\"reference external\" href=\"http://lammps.sandia.gov\">http://lammps.sandia.gov</a> for detailed download and installation instructions).</p>\n</li>\n<li><p class=\"first\">Modify <code class=\"docutils literal notranslate\"><span class=\"pre\">machines_user.yml</span></code> to make the <strong>lammps_exec</strong> variable point to the location of the LAMMPS executable. e.g.:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">lammps_exec</span><span class=\"p\">:</span> <span class=\"s2\">&quot;/home/james/bin/lmp_serial&quot;</span>\n</pre></div>\n</div>\n</li>\n<li><p class=\"first\">FabSim3 contains sample LAMMPS input files, so there\u2019s no need to download that.</p>\n</li>\n<li><p class=\"first\">(first time use only) Create the required FabSim3 directory using the following command:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">fabsim</span> <span class=\"n\">localhost</span> <span class=\"n\">setup_fabsim</span>\n</pre></div>\n</div>\n</li>\n<li><p class=\"first\">Before run LAMMPS test data set, you should install FabMD which provides functionality to extend FabSim3\u2019s workflow and remote submission capabilities to LAMMPS specific tasks. Please install it by typing:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">fabsim</span> <span class=\"n\">localhost</span> <span class=\"n\">install_plugin</span><span class=\"p\">:</span><span class=\"n\">FabMD</span>\n</pre></div>\n</div>\n</li>\n<li><p class=\"first\">Run the LAMMPS test data set using:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">fabsim</span> <span class=\"n\">localhost</span> <span class=\"n\">lammps_dummy</span><span class=\"p\">:</span><span class=\"n\">lammps_dummy</span><span class=\"p\">,</span><span class=\"n\">cores</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"n\">wall_time</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">:</span><span class=\"mi\">00</span><span class=\"p\">:</span><span class=\"mi\">0</span>\n</pre></div>\n</div>\n</li>\n<li><p class=\"first\">Run the following command to copy the output of your job in the results directory. By default this will be a subdirectory in <code class=\"docutils literal notranslate\"><span class=\"pre\">~/FabSim3/results</span></code>:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">fabsim</span> <span class=\"n\">localhost</span> <span class=\"n\">fetch_results</span>\n</pre></div>\n</div>\n</li>\n</ol>\n</div>\n<div class=\"section\" id=\"creating-the-relevant-fabsim3-directories-on-a-local-or-remote-host\">\n<h3>Creating the relevant FabSim3 directories on a local or remote host<a class=\"headerlink\" href=\"#creating-the-relevant-fabsim3-directories-on-a-local-or-remote-host\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>Ensure that you have modified <code class=\"docutils literal notranslate\"><span class=\"pre\">machines_user.yml</span></code> to contain correct information for your target machine.</p>\n</div>\n<div class=\"section\" id=\"auto-bash-completion-for-fabsim\">\n<h3>Auto bash-completion for fabsim<a class=\"headerlink\" href=\"#auto-bash-completion-for-fabsim\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>To enable this option, please run on your FabSim3 directory:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">source</span> <span class=\"n\">fabsim</span><span class=\"o\">-</span><span class=\"n\">completion</span><span class=\"o\">.</span><span class=\"n\">bash</span>\n</pre></div>\n</div>\n<p>or you can add the following command into your <code class=\"docutils literal notranslate\"><span class=\"pre\">$HOME/.bashrc</span></code> file to have enable it everytime that the shell is activated:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">source</span> <span class=\"p\">(</span><span class=\"n\">path</span> <span class=\"n\">of</span> <span class=\"n\">your</span> <span class=\"n\">FabSim3</span> <span class=\"n\">directory</span><span class=\"p\">)</span><span class=\"o\">/</span><span class=\"n\">fabsim</span><span class=\"o\">-</span><span class=\"n\">completion</span><span class=\"o\">.</span><span class=\"n\">bash</span>\n</pre></div>\n</div>\n</div>\n</div>\n</div>\n",
    "title": "Installation and Testing (old)",
    "sourcename": "installationback.rst.txt",
    "current_page_name": "installationback",
    "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">Installation and Testing (old)</a><ul>\n<li><a class=\"reference internal\" href=\"#dependencies\">Dependencies</a></li>\n<li><a class=\"reference internal\" href=\"#installing-fabsim3\">Installing FabSim3</a></li>\n<li><a class=\"reference internal\" href=\"#installing-plugins\">Installing plugins</a></li>\n<li><a class=\"reference internal\" href=\"#updating-fabsim3\">Updating FabSim3</a></li>\n<li><a class=\"reference internal\" href=\"#testing-fabsim3\">Testing FabSim3</a></li>\n<li><a class=\"reference internal\" href=\"#list-available-commands\">List available commands</a></li>\n<li><a class=\"reference internal\" href=\"#fabdummy-testing-on-the-local-host\">FabDummy testing on the local host</a><ul>\n<li><a class=\"reference internal\" href=\"#plugin-installation\">Plugin Installation</a></li>\n<li><a class=\"reference internal\" href=\"#testing\">Testing</a></li>\n<li><a class=\"reference internal\" href=\"#lammps-testing-on-the-local-host\">LAMMPS testing on the local host</a></li>\n<li><a class=\"reference internal\" href=\"#creating-the-relevant-fabsim3-directories-on-a-local-or-remote-host\">Creating the relevant FabSim3 directories on a local or remote host</a></li>\n<li><a class=\"reference internal\" href=\"#auto-bash-completion-for-fabsim\">Auto bash-completion for fabsim</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n",
    "page_source_suffix": ".rst"
}